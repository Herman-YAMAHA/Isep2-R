---
title: ""
output:
  pdf_document:
    toc: true
    toc_depth: 3
    number_sections: true
    latex_engine: xelatex
    includes:
      before_body: cover_analyse.tex

header-includes:
  - \usepackage{xcolor}
---



\newpage


# Introduction

Ce rapport vise à évaluer l’impact des transferts sur le bien-être des ménages sénégalais, en se concentrant particulièrement sur trois dimensions : l’éducation, la santé et les revenus hors activités agricoles. L’objectif est d’analyser dans quelle mesure ces transferts peuvent constituer un mécanisme de résilience pour les ménages, notamment en cas de mauvaises récoltes ou de pertes dans les secteurs de l’agriculture et de l’élevage. L’étude repose sur les données de l’Enquête Harmonisée sur les Conditions de Vie des Ménages (EHCVM) réalisée en 2018 au Sénégal, dans le cadre d’un projet d’évaluation de l’impact socio-économique des transferts sur les conditions de vie des ménages.

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE, warning=FALSE, message=FALSE, fig.width=7, fig.height=5)
library(haven)
library(dplyr)
library(ggplot2)
library(ggpubr)
```

# Analyse de la relation entre les transferts reçus et la proportion de membres scolarisés au sein des ménages

```{r graphique_transferts_education1, echo=FALSE, message=FALSE, warning=FALSE, fig.width=7, fig.height=5}

install.packages("haven")
install.packages("dplyr")

data6 <- read_dta("C:/Users/T Informatique/Desktop/Langage R/ISEP2025/revenu_12_derniers_mois_menage_EHCVM.dta")
data7 <- read_dta("C:/Users/T Informatique/Desktop/Langage R/ISEP2025/data_menage.dta")
data8 <- read_dta("C:/Users/T Informatique/Desktop/Langage R/ISEP2025/depenses_menage.dta")

# Fusion successive des trois bases
data_menage_final <- data6 %>%
  inner_join(data7, by = c("grappe", "menage")) %>%
  inner_join(data8, by = c("grappe", "menage"))

data_menage_final <- data_menage_final %>%
  mutate(ratio_etude = 100* nb_individus_etudes / nb_individus)

# Relation entre transferts reçus et éducation

# Visualisation

library(ggplot2)
library(ggpubr)

# Modèle de régression
modele <- lm(transfert_total_menage ~ ratio_etude, data = data_menage_final)

# Extraire les paramètres
a <- round(coef(modele)[1], 2)
b <- round(coef(modele)[2], 2)
r2 <- round(summary(modele)$r.squared, 3)
p <- round(summary(modele)$coefficients[2, 4], 3)

# Créer l'équation formatée en texte simple (sans parse = TRUE)
eq_text <- paste0("y = ", b, "x + ", a,
                  "   |   R² = ", r2,
                  "   |   p = ", p)

# Graphique
ggplot(data_menage_final, aes(x = ratio_etude, y = transfert_total_menage)) +
  geom_point(alpha = 0.6) +
  geom_smooth(method = "lm", se = TRUE, color = "blue") +
  annotate("text", 
           x = 0.1, 
           y = 9500000, 
           label = eq_text, 
           size = 5, 
           hjust = 0, 
           color = "black") +
  labs(
    x = "Ratio d'étudiants dans le ménage (en %)",
    y = "Transferts reçus",
    title = "Relation entre éducation et transferts reçus"
  ) +
  coord_cartesian(ylim = c(0, 10000000))
```

> La régression linéaire (\(y = 798.5x + 333551.43\)) montre une faible relation positive entre le niveau d'éducation (ratio d'étudiants par ménage) et les transferts reçus. Cependant, le \(R^2\) de **0,001** révèle que l'éducation explique seulement **0,1%** de la variation des transferts, ce qui est négligeable. Bien que le résultat soit statistiquement significatif (\(p = 0,006\)), l'impact pratique est quasi inexistant, suggérant que d'autres facteurs non mesurés déterminent principalement les transferts.

  
  
Par la suite, suivant la proportion de membres scolarisés au sein des ménages, nous avons subdivisé les ménages en 04 groupes :   

- Faible ([ 0 %, 25 % [)  

- Modéré ([ 25 %, 50 % [)  

- Élevé ([ 50 %, 75 % [)  

- Très élevé ([ 75 %, 100 % [)  




```{r graphique_transferts_education2, echo=FALSE, message=FALSE, warning=FALSE, fig.width=7, fig.height=5}


# Définition des groupes de ménages selon ratio_etude

data_menage_final <- data_menage_final %>%
  mutate(groupe_ratio = cut(ratio_etude,
                            breaks = c(0, 25, 50, 75, 100),
                            labels = c("Faible", "Modéré", "Élevé", "Très élevé"),
                            include.lowest = TRUE,
                            right = FALSE))


# Filtrer les NA avant de résumer
df_transferts_groupes <- data_menage_final %>%
  filter(!is.na(groupe_ratio), !is.na(transfert_total_menage)) %>%
  group_by(groupe_ratio) %>%
  summarise(transferts_moyens = mean(transfert_total_menage), .groups = "drop")

# Visualisations

# Diagramme en barres des moyennes par groupe
ggplot(df_transferts_groupes, aes(x = groupe_ratio, y = transferts_moyens, fill = groupe_ratio)) +
  geom_bar(stat = "identity", width = 0.6) +
  geom_text(aes(label = round(transferts_moyens, 1)), vjust = -0.5, size = 4) +
  scale_fill_manual(values = c("Faible" = "#A6ACAF", "Modéré" = "#85929E",
                               "Élevé" = "#5D6D7E", "Très élevé" = "#34495E")) +
  labs(title = "Transferts moyens par groupe de ratio d'études",
       x = "Groupe de ratio d'études",
       y = "Montant moyen des transferts (en FCFA)") +
  theme_minimal() +
  theme(legend.position = "none")


```

> L'analyse des transferts moyens par niveau de scolarisation montre une tendance en U : les ménages avec une scolarisation faible (0-25%) reçoivent un montant moyen de 343 538.6 FCFA, suivi d'une baisse pour le niveau modéré (281 275.1 FCFA), puis d'une remontée progressive pour les niveaux élevé (320 533 FCFA) et très élevé (419 945.7 FCFA). Cette configuration suggère que les transferts répondent à deux logiques distinctes : d'une part, des aides ciblées vers les ménages les moins éduqués (peut-être via des programmes sociaux), et d'autre part, des transferts plus importants pour les ménages très scolarisés (peut-être liés à des réseaux migratoires ou à une meilleure insertion professionnelle). La chute observée pour le niveau modéré pourrait indiquer que ces ménages se trouvent dans une "zone grise", ne bénéficiant ni des aides sociales réservées aux plus vulnérables, ni des réseaux de solidarité des plus éduqués. Ces résultats mettent en évidence la complexité des mécanismes de transferts, où le niveau d'éducation interagit avec d'autres facteurs socio-économiques.


```{r graphique_transferts_education3, echo=FALSE, message=FALSE, warning=FALSE, fig.width=7, fig.height=5}


# Boxplot par groupe
ggplot(data_menage_final, aes(x = groupe_ratio, y = transfert_total_menage, fill = groupe_ratio)) +
  geom_boxplot(outlier.color = "red", outlier.size = 1.5) +
  scale_fill_manual(values = c("Faible" = "#A6ACAF", "Modéré" = "#85929E",
                               "Élevé" = "#5D6D7E", "Très élevé" = "#34495E")) +
  labs(title = "Distribution des transferts par groupe de ratio d'études",
       x = "Groupe de ratio d'études",
       y = "Transferts reçus (en FCFA)") +
  theme_minimal() +
  theme(legend.position = "none")
```

> Le graphique montre une distribution asymétrique des transferts avec des valeurs extrêmes atteignant 25 millions FCFA, ce qui distord la visualisation. Les boîtes à moustaches (boxplots) semblent compressées en bas du graphique, indiquant que la majorité des transferts se situent bien en-dessous de 5 millions FCFA pour les quatre groupes de scolarisation (Faible à Très élevé). 



# Analyse de la relation entre les transferts reçus et les dépenses en santé


```{r graphique_transferts_sante1, echo=FALSE, message=FALSE, warning=FALSE, fig.width=7, fig.height=5}

# Relation entre transferts reçus et dépenses en santé

# Filtrer les dépenses de santé positives ou nulles
data_sante <- data_menage_final %>%
  filter(depense_sante_menage >= 0)

# Modèle de régression
modele_sante <- lm(depense_sante_menage ~ transfert_total_menage, data = data_sante)

# Extraire les paramètres
a_sante <- round(coef(modele_sante)[1], 2)
b_sante <- round(coef(modele_sante)[2], 2)
r2_sante <- round(summary(modele_sante)$r.squared, 3)
p_sante <- formatC(summary(modele_sante)$coefficients[2, 4], format = "f", digits = 4)

# Texte de l’équation
eq_text_sante <- paste0("y = ", b_sante, "x + ", a_sante,
                        "   |   R² = ", r2_sante,
                        "   |   p = ", p_sante)

# Visualisation
ggplot(data_sante, aes(x = transfert_total_menage, y = depense_sante_menage)) +
  geom_point(alpha = 0.6) +
  geom_smooth(method = "lm", se = TRUE, color = "blue") +
  annotate("text", 
           x = 500000, 
           y = 3900000,  # Texte bien en haut
           label = eq_text_sante, 
           size = 5, 
           hjust = 0, 
           color = "black") +
  labs(
    x = "Transferts reçus par le ménage (en FCFA)",
    y = "Dépenses de santé du ménage (en FCFA)",
    title = "Relation entre transferts reçus et dépenses de santé"
  ) +
  coord_cartesian(xlim = c(0, 10000000), ylim = c(0, 4000000)) +
  theme_minimal()
```

> La régression linéaire montre une relation faible mais statistiquement significative entre les transferts reçus et les dépenses de santé (p < 0.001). L'équation y = 0.04x + 122 643 indique qu'une augmentation de 1 FCFA de transferts est associée à une hausse de 0,04 FCFA des dépenses de santé. Cependant, le R² de 0,016 révèle que seulement 1,6% de la variation des dépenses de santé s'explique par les transferts, suggérant que d'autres facteurs non pris en compte dominent cette relation. La présence de valeurs extrêmes (jusqu'à 2,5-5 millions FCFA) visible dans le graphique pourrait influencer ces résultats.


# Analyse de la relation entre les transferts reçus et le revenu total non issu du rendement agricole (emploi, non emploi et transferts)

```{r graphique_transferts_sante2, echo=FALSE, message=FALSE, warning=FALSE, fig.width=7, fig.height=5}

summary_stats_filtre <- data_menage_final %>%
  filter(!is.na(part_transferts_revenu_total)) %>%
  summarise(
    Effectif = n(),
    Moyenne = mean(part_transferts_revenu_total),
    Médiane = median(part_transferts_revenu_total),
    Écart_type = sd(part_transferts_revenu_total),
    Min = min(part_transferts_revenu_total),
    Max = max(part_transferts_revenu_total),
    Q1 = quantile(part_transferts_revenu_total, 0.25),
    Q3 = quantile(part_transferts_revenu_total, 0.75)
  )

# Histogramme avec pourcentages sans le symbole %
data_menage_final %>%
  filter(!is.na(part_transferts_revenu_total)) %>%
  ggplot(aes(x = part_transferts_revenu_total)) +
  geom_histogram(
    aes(y = after_stat(count / sum(count))),
    binwidth = 5,
    fill = "steelblue",
    color = "white",
    alpha = 0.8
  ) +
  stat_bin(
    aes(y = after_stat(count / sum(count)), 
        label = round(after_stat(count / sum(count)) * 100, 1)),
    binwidth = 5,
    geom = "text",
    vjust = -0.5,
    size = 2.5
  ) +
  labs(
    title = "Histogramme des parts de transferts dans le revenu total",
    x = "Part des transferts dans le revenu total (%)",
    y = "Proportion"
  ) +
  theme_minimal()

```

> L'histogramme montre une distribution asymétrique des parts de transferts dans le revenu total, avec deux pics principaux : un premier pic important à 29,8% et un second pic plus marqué à 39,2%. La majorité des observations se concentrent entre 0,7% et 3,1%, mais la représentation graphique indique que certains ménages dépendent fortement des transferts. Cette distribution quasi bimodale suggère l'existence de deux sous-populations distinctes : une proportion significative pour qui les transferts représentent une part modeste du revenu (moins de 5%), et une autre pour qui ils constituent une ressource essentielle (plus de 50%), ce qui témoigne de situations de forte dépendance aux transferts pour certains ménages.

```{r graphique_transferts_sante3, echo=FALSE, message=FALSE, warning=FALSE, fig.width=7, fig.height=5}


# Filtrer les données valides s'il y en a (revenu total non manquant et >= 0)
data_revenu <- data_menage_final %>%
  filter(!is.na(revenu_total), revenu_total >= 0)

# Modèle de régression
modele_revenu <- lm(revenu_total ~ transfert_total_menage, data = data_revenu)

# Extraire les paramètres
a_rev <- round(coef(modele_revenu)[1], 2)
b_rev <- round(coef(modele_revenu)[2], 2)
r2_rev <- round(summary(modele_revenu)$r.squared, 3)
p_rev <- formatC(summary(modele_revenu)$coefficients[2, 4], format = "f", digits = 4)

# Texte de l’équation
eq_text_rev <- paste0("y = ", b_rev, "x + ", a_rev,
                      "   |   R² = ", r2_rev,
                      "   |   p = ", p_rev)

# Visualisation
ggplot(data_revenu, aes(x = transfert_total_menage, y = revenu_total)) +
  geom_point(alpha = 0.6) +
  geom_smooth(method = "lm", se = TRUE, color = "blue") +
  annotate("text", 
           x = 500000, 
           y = max(data_revenu$revenu_total, na.rm = TRUE) * 0.95,  # Texte haut
           label = eq_text_rev, 
           size = 5, 
           hjust = 0, 
           color = "black") +
  labs(
    x = "Transferts reçus par le ménage (en FCFA)",
    y = "Revenu total du ménage (en FCFA)",
    title = "Relation entre transferts reçus et revenu total"
  ) +
  coord_cartesian(xlim = c(0, 10000000)) +
  theme_minimal()

```

> La régression révèle une relation positive significative (p < 0,001) entre transferts et revenus, avec un coefficient de 1,19 (chaque FCFA de revenu supplémentaire étant associé à 1,19 FCFA de transferts en moyenne). Le R² de 0,24 indique une corrélation modérée, où 24% de la variation des transferts s'explique par le revenu. Cette relation suggère deux mécanismes probables : (1) les ménages aisés bénéficient de réseaux sociaux plus productifs (transferts privés accrues des diasporas), et/ou (2) les transferts institutionnels (aides publiques, ONG) ciblent partiellement les ménages selon leur niveau de ressources. La présence de valeurs élevées (jusqu'à 2,5 millions FCFA) montre que l'effet est particulièrement marqué pour certains ménages, possiblement urbains ou avec migrants internationaux.

# Les limites du projet 

Malgré la richesse des données mobilisées et la rigueur des traitements statistiques, cette étude présente plusieurs limites. Tout d’abord, l’approche adoptée repose sur une analyse **descriptive et corrélationnelle**, sans recourir à des **méthodes économétriques avancées** (comme les modèles multivariés ou les techniques d’identification causale), ce qui limite la portée des interprétations. Les relations observées entre les transferts et les indicateurs de bien-être ne peuvent donc être interprétées comme causales. Ensuite, la nature **transversale** des données de l’EHCVM 2018 ne permet pas de suivre l’évolution des ménages dans le temps ni d’anticiper les effets dynamiques des transferts. De plus, certaines variables clés, telles que les revenus et les dépenses, sont fondées sur des **déclarations auto-rapportées**, susceptibles d’introduire des biais de mesure. L’étude n’a pas non plus pu intégrer des dimensions essentielles du bien-être comme **la nutrition, le logement ou l’accès aux services publics**. Enfin, la typologie des ménages selon le **ratio d’individus scolarisés** reste imparfaite pour capturer la diversité des situations éducatives et socioéconomiques. Ces limites soulignent la nécessité d’approfondir l’analyse par des approches économétriques et longitudinales afin d’enrichir la compréhension de l’impact réel des transferts sur le bien-être des ménages.


# Conclusion

Cette étude met en lumière l’importance des transferts dans l’amélioration du bien-être des ménages sénégalais, tout en soulignant leur effet contrasté. Leur impact varie en fonction du niveau d’instruction, avec des effets plus marqués chez les ménages les moins et les plus scolarisés. Bien que leur influence sur les dépenses de santé demeure faible (R² = 1,6 %), leur contribution au revenu total est significative (R² = 24 %), traduisant un effet multiplicateur non négligeable.
Ces résultats plaident en faveur d’une réforme des mécanismes de transfert autour de deux axes : d’une part, un meilleur ciblage basé sur des indicateurs de vulnérabilité pour anticiper efficacement les chocs ; d’autre part, la mobilisation de la diaspora à travers des plateformes numériques sécurisées, afin de renforcer l’effet réseau des transferts.
En articulant protection sociale adaptative et inclusion financière, une telle approche permettrait de transformer les transferts en un véritable levier de résilience face aux chocs climatiques et économiques, tout en contribuant à la réduction des inégalités mises en évidence par cette analyse.
